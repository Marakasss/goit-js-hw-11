{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport { createMarkup, errorMessage, infoMessage } from './render-functions';\nexport function getdata(searchValue) {\n    \n    const myApiKey = '49580099-ba49dcf3c416d0b66883e5025'; \n    axios.get('https://pixabay.com/api/', {\n        params: {\n            key: `${myApiKey}`,\n            q: `${searchValue}`,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 200,  \n        }\n    })\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                infoMessage(`Sorry, there are no images matching ${searchValue}. Please try again!`);\n                return;\n            }\n\n            createMarkup(response.data.hits);\n        })\n\n        .catch(error => {\n            console.error(error);\n            errorMessage('Something went wrong. Please try again later.');\n        })\n    \n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getdata } from \"./pixabay-api\";\n\n\n\n// !-----------FUNCTION ADDING CARDS WITH IMAGES TO GALLERY-------------\nexport function createMarkup(data) {\n    const gallery = document.querySelector('.gallery');\n    \n    //ADD PHOTOS TO GALLARY\n    const galleryItemsList = data\n        .map(data => {\n            const { likes,\n                    views,\n                    downloads,\n                    comments,\n                    tags,\n                    largeImageURL,\n                    webformatURL   \n                } = data;\n            \n            return `<li class=\"img-card\">\n                        <a class=\"gallery-link\" href= ${largeImageURL}>\n                            <img\n                            class=\"gallery-image\"\n                            src= ${webformatURL}\n                            alt= ${tags}\n                            />\n                        </a>\n                        <ul class=\"img-info\">\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"./public/sprite.svg#icon-like\"></use>\n                                </svg>\n                                <p>${likes}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"./public/sprite.svg#icon-eye\"></use>\n                                </svg>\n                                <p>${views}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"./public/sprite.svg#icon-dialog\"></use>\n                                </svg>\n                                <p>${comments}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"./public/sprite.svg#icon-gallery-download\"></use>\n                                </svg>\n                                <p>${downloads}</p>\n                            </li>\n                        </ul>\n                    </li>`\n        })\n        .join('');\n    \n    gallery.innerHTML = '';\n    gallery.insertAdjacentHTML('afterbegin', galleryItemsList);\n    \n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n    lightbox.refresh();\n}\n\n\nexport function handleSearch() {\n    const searchBar = document.querySelector('.form');\n    const icon = document.querySelector('.icon-img');\n\n    searchBar.addEventListener('input', event => {\n            let searchValue = event.target.value.trim();\n        if (searchValue) {\n            icon.style.fill = '#1875FF';\n        }\n        else {\n            icon.style.fill = '';\n        }\n        })\n    \n    searchBar.addEventListener('submit', event => {\n        event.preventDefault();\n        let searchValue = event.target['search-text'].value.trim();\n        if (!searchValue) {\n            infoMessage('Enter some value');\n            return;\n        }\n\n        getdata(searchValue);\n    })\n\n}\n\n\n\nexport function errorMessage(message) {\n iziToast.error({\n   message: message,\n   position: window.innerWidth <= 768 ? 'bottomCenter' : 'topCenter',\n   transitionIn: 'fadeInDown',\n   backgroundColor: 'rgb(231, 19, 36)',\n   messageColor: 'white',\n   iconColor: 'white',\n   messageSize: '16px',\n   class: 'toast',\n});\n}\n\nexport function infoMessage(message) {\n iziToast.info({\n   message: message,\n   position: window.innerWidth <= 768 ? 'bottomLeft' : 'topLeft',\n   transitionIn: 'fadeInDown',\n   messageSize: '16px',\n});\n}","\nimport { handleSearch } from './js/render-functions';\n\nhandleSearch()\n"],"names":["getdata","searchValue","axios","response","infoMessage","createMarkup","error","errorMessage","data","gallery","galleryItemsList","likes","views","downloads","comments","tags","largeImageURL","webformatURL","SimpleLightbox","handleSearch","searchBar","icon","event","message","iziToast"],"mappings":"owBAEO,SAASA,EAAQC,EAAa,CAGjCC,EAAM,IAAI,2BAA4B,CAClC,OAAQ,CACJ,IAAK,qCACL,EAAG,GAAGD,CAAW,GACjB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACb,CACT,CAAK,EACI,KAAKE,GAAY,CACd,GAAIA,EAAS,KAAK,KAAK,SAAW,EAAG,CACjCC,EAAY,uCAAuCH,CAAW,qBAAqB,EACnF,MACH,CAEDI,EAAaF,EAAS,KAAK,IAAI,CAC3C,CAAS,EAEA,MAAMG,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBC,EAAa,+CAA+C,CACxE,CAAS,CAET,CCpBO,SAASF,EAAaG,EAAM,CAC/B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAmBF,EACpB,IAAIA,GAAQ,CACT,KAAM,CAAE,MAAAG,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,EACA,KAAAC,EACA,cAAAC,EACA,aAAAC,CACH,EAAGT,EAER,MAAO;AAAA,wDACqCQ,CAAa;AAAA;AAAA;AAAA,mCAGlCC,CAAY;AAAA,mCACZF,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAQFJ,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMLE,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMRD,CAAS;AAAA;AAAA;AAAA,0BAI9C,CAAS,EACA,KAAK,EAAE,EAEZJ,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcC,CAAgB,EAExC,IAAIQ,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EAEQ,QAAO,CACpB,CAGO,SAASC,GAAe,CAC3B,MAAMC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAO,SAAS,cAAc,WAAW,EAE/CD,EAAU,iBAAiB,QAASE,GAAS,CACnBA,EAAM,OAAO,MAAM,KAAI,EAEzCD,EAAK,MAAM,KAAO,UAGlBA,EAAK,MAAM,KAAO,EAE9B,CAAS,EAELD,EAAU,iBAAiB,SAAUE,GAAS,CAC1CA,EAAM,eAAc,EACpB,IAAIrB,EAAcqB,EAAM,OAAO,aAAa,EAAE,MAAM,OACpD,GAAI,CAACrB,EAAa,CACdG,EAAY,kBAAkB,EAC9B,MACH,CAEDJ,EAAQC,CAAW,CAC3B,CAAK,CAEL,CAIO,SAASM,EAAagB,EAAS,CACrCC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,OAAO,YAAc,IAAM,eAAiB,YACtD,aAAc,aACd,gBAAiB,mBACjB,aAAc,QACd,UAAW,QACX,YAAa,OACb,MAAO,OACV,CAAC,CACD,CAEO,SAASnB,EAAYmB,EAAS,CACpCC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,OAAO,YAAc,IAAM,aAAe,UACpD,aAAc,aACd,YAAa,MAChB,CAAC,CACD,CCxHAJ,EAAY"}